## [top コマンドでよく使う or 便利そうな機能](https://qiita.com/Kernel_OGSun/items/55afb7e93b445f1be019#-%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E6%AF%8E%E3%81%AE-cpu-%E4%BD%BF%E7%94%A8%E7%8E%87%E3%82%92-cpu-%E3%82%B3%E3%82%A2%E6%95%B0%E3%81%AE%E7%B7%8F%E4%BD%BF%E7%94%A8%E7%8E%87%E3%81%A7%E8%A1%A8%E7%A4%BA--i-)

### ヘルプ ( h or ? )
### 文字列検索 ( L )
top コマンド実行中に「L -> 文字列入力 -> Enter」で、ヒットした文字列を含むプロセスを上部に表示できます。ヒット部分はハイライトされます。<br>

実行例1 (入力キー: L,"cpu",Enter, L,"bash",Enter, L,"20",Enter)<br>
実行例1 (入力キー: L,"cpu",Enter,L,"bash",Enter,L,"20",Enter)<br>

### ユーザ毎に監視 ( u )
top コマンド実行中に「u -> ユーザ名を入力 -> Enter」でユーザ毎のリソース使用状況を監視できます。<br>

実行例2 (入力キー: u,"guest",Enter)<br>

### プロセスを終了させる ( k )
top コマンド実行中に「k -> 終了させたい PID 入力 -> Enter」で、入力した PID の プロセスを終了 (SIGTERM シグナルを発行)できます (送信シグナルは変更可)。<br>

実行例3 (入力キー: L,"top",k,"16973",Enter,Enter)<br>

### コマンドを詳細に表示 ( c )
top コマンド実行中に c で、実行コマンド (COMMAND) をフルパスか、[]付きで表示できます。[]付きは、カーネルモードで動作していることを意味します。<br>

### ソート関連 ( <, >, P, M, R )
top コマンド実行中に<br>
<, > で、ソート対象のカラムを選択できます。<br>
P で、CPU の使用量順にソートできます。<br>
M で、メモリの使用量順にソートできます。<br>
R で、ソートの昇順/降順を切り替えられます。<br>

さらに...<br>
z...カラー／モノクロ切り替え<br>
x...選択カラムをハイライト<br>
b...選択カラムのハイライトをより分かり易くする<br>
を使うことで、どのカラムを選択しているのか分かりやすくできます。<br>

実行例5 (入力キー: z,x,b,>,<,<,<,<,<,<,<,<)<br>

### CPU、メモリ、スワップの使用率を視覚的に表示 ( t, m )
,<br>
top コマンド実行中に「t -> t」で、CPUの使用率を視覚的(横棒グラフ)に表示できます。同様に「m -> m」で、メモリ、スワップの使用率も視覚的に表示できます。<br>

さらに z で、横棒グラフの内訳を分かりやすく表示できます。<br>

実行例6 (入力キー: t,t,m,m,z)<br>

### CPU コア毎の情報を表示 ( 1 )
top コマンド実行中に 1 で、CPU コア毎の情報を表示できます。デフォルトでは、複数の CPU コア情報が1つに纏められており %Cpu(s) と表示されています。<br>

### プロセス毎の CPU 使用率を CPU コア数の総使用率で表示 ( I )
top コマンド実行中に I で、プロセス毎の CPU 使用率を CPU コア数の総使用率で表示できます。デフォルトでは、プロセス毎に使用している CPU コアの使用率が表示されています。<br>

実行例8 では、CPU コア数が4つのシステムで、CPU に負荷を掛けています($ stress --cpu 1)。%Cpu3、%CPU がそれぞれ 100 になります。%Cpu3 が3番目の CPU コア情報で、%CPU が stress コマンドの CPU 使用率です。<br>

### 設定を保存 ( W )
top コマンド実行中に W で、前述の設定などを保存(~/.toprcに保存)できます。例えば「z -> W」とすると、top コマンド実行時は常に z を押下した(カラーリングされた)状態になります。<br>

設定をリセットする場合は、設定ファイルを削除 ($ rm ~/.toprc) すれば、OK です。<br>
